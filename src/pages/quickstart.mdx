# Node.js Express App Setup Guide

## Description
This guide will help you set up and run the Node.js Express application. Follow the steps outlined below to configure the environment, install dependencies, and start the application.

## Prerequisites
Ensure you have the following installed on your system:

- [Node.js](https://nodejs.org/) (version 16.x or higher recommended)
- [npm](https://www.npmjs.com/) (comes with Node.js) or [yarn](https://yarnpkg.com/)
- [MongoDB](https://www.mongodb.com/) (local or cloud-based, such as MongoDB Atlas)
- A text editor or IDE (e.g., [VSCode](https://code.visualstudio.com/))
- [cURL](https://curl.se/) (for testing API endpoints, optional)

## Environment Setup
1. Clone the repository:
   ```bash
   unzip  project
   cd project
   cp .env.example .env
   ```

2. Edit `.env` file in the root directory and populate it with the following variables. Replace placeholder values with your actual configuration:

   ```bash
   # Global
   APP_KEY=your_app_key
   ENCRYPTION_KEY=your_encryption_key

   # MongoDB
   DATABASE_URL=mongodb+srv://<username>:<password>@cluster.mongodb.net/your-database

   # Emails
   SMTP_HOST=smtp.gmail.com
   SMTP_PORT=587
   SMTP_SECURE=false
   CLIENT_USER= yourmai@gmail.com
   CLIENT_PASS= your app pass

   # SMS Service
   SMS_USERNAME=your_sms_username
   SMS_API_KEY=your_sms_api_key
   SMS_API_KEY1=your_sms_api_key1

   # Stripe
   PUBLISHABLE_KEY=your_stripe_publishable_key
   SECRET_KEY=your_stripe_secret_key

   # Flutterwave
   FLW_PUBLIC_KEY=your_flutterwave_public_key
   FLW_SECRET_KEY=your_flutterwave_secret_key
   FLW_ENCRYPTION_KEY=your_flutterwave_encryption_key

   # Cloudinary
   CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
   CLOUDINARY_API_KEY=your_cloudinary_api_key
   CLOUDINARY_API_SECRET=your_cloudinary_api_secret
   ```

<Note>
 The environment variables set in `.env` can be overridden by environments created under the `/api/v1/integrations` endpoint.  
 If you've already set variables in `.env`, you can update the secrets via `/integrations` using HTTPS.  
 Always use **HTTPS** for better security. We have implemented encryption for secrets stored via HTTPS for enhanced security.
</Note>

3. Install dependencies:
   ```bash
   npm install
   # or
   yarn install
   ```

## Running the Application

1. Start the development server:
   ```bash
   npm run dev
   # or
   yarn dev
   ```

2. Access the application in your browser at:
   ```
   http://localhost:8080
   ```

## Quickstart Guide for API Usage

### Setting Up an API Client
This application provides a REST API. To make API requests, you need an API client such as cURL, Postman, or any HTTP client library.

#### Checking cURL Installation
```bash
curl --version
```
If not installed, follow [these instructions](https://curl.se/download.html).

### Making Your First API Request
Using cURL, make a request to fetch a list of products:

```bash
curl -G http://localhost:8080/api/v1/products \
  -d limit=10 \
  -d page=1 \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### Notes
- Replace `YOUR_API_KEY` with the value of your API key.
- Ensure the server is running locally or on your deployment environment.

### Endpoints Documentation
Refer to the following links for more details:
- [Products Endpoint](http://localhost:8080/docs/products)
- [Error Messages](http://localhost:8080/docs/errors)

## Deployment

### Using Docker
1. Ensure Docker is installed and running on your system.
2. Build and run the container:
   ```bash
   docker build -t your-app-name .
   docker run -p 8080:8080 your-app-name
   ```

### On a Cloud Platform
- Deploy on platforms like [Heroku](https://www.heroku.com/), [AWS](https://aws.amazon.com/), or [Vercel](https://vercel.com/).
- Set environment variables in the platformâ€™s dashboard.

## Troubleshooting

### Common Issues
- **Database Connection Error:** Verify your `DATABASE_URL` in the `.env` file.
- **Environment Variables Not Loaded:** Ensure you have created the `.env` file and installed [dotenv](https://www.npmjs.com/package/dotenv).
- **API Key Missing:** Include your API key in the request header as a Bearer Token.

For further assistance, check the application logs or contact the support team.
